# Fitness Report Evaluator - Environment Configuration Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# ==============================================================================
# AUTHENTICATION & SESSION SECURITY
# ==============================================================================

# Session secret for HMAC token signing
# CRITICAL: Generate a strong random secret for production
# Use: openssl rand -base64 32
SESSION_SECRET=dev-weak-secret-change-in-prod

# Session timeout in milliseconds (default: 1 hour)
SESSION_TTL_MS=3600000

# Force secure cookies (auto-detected in production, but can override)
# Set to 'true' for HTTPS-only deployments
COOKIE_SECURE=true

# ==============================================================================
# GITHUB INTEGRATION
# ==============================================================================

# Fine-grained Personal Access Token with repo access
# Required permissions:
#   - Contents: Read/Write (for data repo)
#   - Issues: Read/Write (for feedback system)
#   - Metadata: Read
#   - Workflows: Write (for repository_dispatch)
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Token for triggering GitHub Actions workflows (repository_dispatch)
# Can be the same as GITHUB_TOKEN if it has workflow permissions
DISPATCH_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Token for accessing private data repository
# Can be the same as GITHUB_TOKEN if it has contents permissions
FITREP_DATA=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ==============================================================================
# REPOSITORY CONFIGURATION
# ==============================================================================

# Main application repository (for dispatching workflows)
MAIN_REPO=SemperAdmin/Fitness-Report-Evaluator

# Private data repository (for storing user data and evaluations)
DATA_REPO=SemperAdmin/Fitness-Report-Evaluator-Data

# Repository for GitHub issues (feedback, errors, deployments)
GITHUB_REPO=SemperAdmin/Fitness-Report-Evaluator

# ==============================================================================
# CORS & SECURITY
# ==============================================================================

# Comma-separated list of allowed origins for CORS
# Leave empty or set to '*' to allow all origins (not recommended for production)
# Include your production domain and GitHub Pages URL
CORS_ORIGINS=https://semperadmin.github.io,https://fitness-report-evaluator.onrender.com

# ==============================================================================
# DEPLOYMENT & RUNTIME
# ==============================================================================

# Node environment (development, production, test)
NODE_ENV=production

# Server port (default: 10000 for Render.com)
PORT=10000

# ==============================================================================
# OPTIONAL: DEVELOPMENT & DEBUGGING
# ==============================================================================

# DANGER: Allow exposing GitHub token to client via /api/github-token
# NEVER set to true in production - development/testing only
ALLOW_DEV_TOKEN=false

# ==============================================================================
# OPTIONAL: CI/CD & MONITORING
# ==============================================================================

# Create GitHub issues on successful deployments (true/false)
CREATE_ISSUE_ON_DEPLOY_SUCCESS=false

# Comma-separated GitHub usernames to assign issues to
ISSUE_ASSIGNEES=semperadmin

# ==============================================================================
# OPTIONAL: ADVANCED CONFIGURATION
# ==============================================================================

# Custom local data directory (for filesystem fallback storage)
# Default: OS temp directory /tmp/fitrep-local
# LOCAL_DATA_DIR=/var/lib/fitrep-data

# Render.com specific (auto-set by platform)
# RENDER_EXTERNAL_URL=https://fitness-report-evaluator.onrender.com
# RENDER_SERVICE_NAME=fitness-report-evaluator
# RENDER_GIT_COMMIT=abc123...

# ==============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ==============================================================================
# Before deploying to production, ensure:
# [ ] SESSION_SECRET is a strong random value (not the default)
# [ ] All GitHub tokens are valid and have correct permissions
# [ ] CORS_ORIGINS includes your production domain
# [ ] NODE_ENV is set to 'production'
# [ ] ALLOW_DEV_TOKEN is false or unset
# [ ] COOKIE_SECURE is true
# [ ] All tokens are kept secure (use Render environment variables)
# [ ] .env file is never committed to version control
